@import 'themes';

$site-theme: $theme;
@each $name, $theme in $board-themes-2d {
  .#{$name} .is2d {
    cg-board {
      $file-ext: map-get($theme, file-ext);
      $name-override: map-get($theme, name-override);
      $file-name: if($name-override, $name-override, $name);
      $dir-name: 'board#{if($file-ext == "svg", "/svg", "")}';
      @if $site-theme == 'transp' {
        backdrop-filter: blur(6px);
      }
      &::before {
        position: absolute;
        content: '';
        inset: 0 0 0 0;
        /*top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: -1;*/
        background-size: cover;
        background-image: img-url('#{$dir-name}/#{$file-name}.#{$file-ext}');
        @if $site-theme == 'transp' {
          opacity: var(--board-opacity);
        } @else {
          filter: brightness(var(--board-brightness));
        }
      }
    }

    $coord-color-white: map-get($theme, coord-color-white);
    $coord-color-black: map-get($theme, coord-color-black);

    @if $coord-color-white and $coord-color-black {
      coords {
        --cg-ccw: #{$coord-color-white};
        --cg-ccb: #{$coord-color-black};
        --cg-cs: none;
      }
    }
  }
}
